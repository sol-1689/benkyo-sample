
# サーバーとは？  

## なにこれ？  
ITの仕事をしていると、サーバーという単語がよく出てきます。  
ある程度経験がある人にとっては当たり前に分かる単語ですが、文脈によって指しているものが違っていることもある為、新入社員の方などにとってはイメージしにくいこともあるかも知れません。

ITの仕事をしていると、サーバーという単語がよく出てきます。  
ある程度経験がある人は当たり前に使っている単語だと思いますが、文脈によって指しているものが違っていることもある為、新入社員の方などが聞くと混乱することもあるかも知れません。

この記事はそういった方たちが、サーバーという単語が指す意味合いを理解できるようになることを目的としています。


## 対象者
サーバーと聞いてもよく分からない人


## サーバーとは
ここから本題です。  
「サーバー」という単語は、以下の３つのいずれかの意味合いで使われることが多いです。


**①役割としてのサーバ**   
**②機器としてのサーバ**  
**③OSとしてのサーバ** 

以下それぞれについて説明していきます。
  
### ①役割としてのサーバ  
3つの中でこの意味合いで使われることが一番多いと思います。

**あるサービスや機能について、それを提供する側のコンピュータのことを指してサーバーといいます。**   

**他のコンピュータ（クライアント）から要求や指示を受け、情報や処理結果を返す役割を持つコンピュータのこと。**
また、機能を利用する側のコンピューターを  **クライアント**  といいます。  


ここは図で書く
要求を出す側の端末（その機能を利用する側の端末）  
→クライアント  

要求を受け取る側の端末（その機能を提供する側の端末）  
→サーバー  


どのような要求や指示を受け付けるかによって、〇〇サーバーの〇〇の部分が変わります。  

例えばブラウザから「Webページを表示したい」という要求を受け付け、Webページを返す機能を持ったサーバーを「Webサーバ」や「Httpサーバ」と呼びます。

DHCPというIPを動的に払い出す機能の場合、IPを下さいという要求を受つけ、IPを返すコンピュータを「DHCPサーバ」と呼びます。

ここも図で書く


他にも以下のような色々な要求の種類があります。  
SSH  
FTP

ようは○○の機能を提供しているコンピュータを○○サーバーと呼びます。　　

では、「○○の機能を提供している」とは具体的にどのような状態でしょうか。  
それは、「○○の機能をもったアプリケーションが稼働している状態」を指します。  

例えばWebサーバーとは、「Webサーバーアプリがインストールされており、稼働している（他の端末からの要求を受け付けられる）状態のコンピュータ」ということになります。  

図

○○の機能をもったアプリケーションは、サーバーとなるOS（例えばWindowsServer）に含まれている場合もありますし、自分でインストールしなければ行けない場合もあります。  

Webサーバーアプリとして代表的なものは以下になります。
nginx、apache web server、IIS

このうち、IISはWindowsServerに最初からインストールされています。（最初は無効化されていますが）



つまりWebサーバーを作成する、という場合は以下のような作業を行うことになります。

OSのWebサーバー



  
上記では応答を返すコンピュータをサーバーと呼ぶと書きました。
では具体的に何が応答を返しているのでしょうか。

それは、サーバーとなるコンピュータで動作している
では上記の「Webページを返すWebサーバ」、「DHCPサーバー」は具体的には何のことでしょうか。  
それは、サーバーコンピュータで動作しているアプリケーションになります。


ここは図を書く。  
・1台の端末で複数の機能を提供する事も出来る。
　
　Webサーバ　と　メールサーバー
　端末A →サーバにブラウザで接続
　端末B →　サーバにメールを送信

　端末AにとってはサーバAはWebサーバ
　端末BにとってはサーバBはメールサーバ
　サーバAでブラウザを立ち上げてサーバBのWebサイトをみれば
　サーバBにとってはサーバAはクライアント
　→1台の端末がいろいろな役割をもつ
　→結局はある機能を提供している側がサーバーと呼ばれる
　
　
サービスや機能を提供するとは
→それらの機能をもったアプリケーションをOS上で稼働させること
OSがデフォルトで持っている機能もある
例 WindowsServerの～機能
その場合はその機能を有効にするだけ
OSが持っていない機能の場合は別途インストールする。
例えばnginxサーバーなど
図
それぞれのサービスは動作しているOSの特定のポートと紐ついている。
→どのポートにリクエストが来たかで、そのリクエストをどのアプリに渡せばいいかを判断している

　　　１つのポートに紐つくプロセスは１つと決まっている。（WindwosでもLinux）

　　　図

　　　よく使われるサービスで使うべきポートは決められている。
　　　Webサーバーアプリならここで決められたポートを使うようにデフォルトで設定されている。
　　　例）
　　　ここを変えることもできるが、変えるとクライアント側も対応しなくちゃいけないのでめんどいので、わざわざ変えることはあまりない。

　　　例えばhttpを81ポートで公開した場合、明示的に:81とうたなきゃいけない。




　　・そのサービス用のアプリケーションがインストールされており、外部からリクエストを受け付けられる端末は何でもサーバー。
例えば使ってるノートPCをインターネットから接続できるように設定し、Webサーバのソフトをインストールして、自作のWebサイトを公開すればWebサーバーである。

　　　実際に余ったデスクトップをファイルサーバーとして使ってたりもした。

　　　ただ、サーバー側はみんなからアクセスされるので必要なスペックが高い。

　　　→サーバー用途用の機器が販売されている。

　　　
　②機器としてのサーバ


　サーバー向けの用途に特化したもの。

　サーバー側に求められる要件　　
　　・高いスペック
　　・拡張が容易
　　・複雑な構成をとりやすい

　ブレードサーバーなどの画像・例
　　LANケーブルのポート数が多い
　　メモリやCPUを増やしやすい


  ③OSとしてのサーバ

  例えばWindowsだと、Windows Home とWindows Serverという種類がある。

  WindowsServerはサーバーとして提供できる機能が豊富。
  例）

  また、セキュリティの為の機能なども豊富。

  Windows Homeの持ってる機能も大体持ってる。
  HomeをServerが囲むような図

  その分高い。
  Homeでも同じようなことは出来るが、設定が大変だったり機能が足りなかったりする。



  
・サーバーアプリの動作イメージ
　　・プロセスがポートを見てる
　　・ポートに来たリクエストをアプリが感知
　　・感知した後の動作はアプリによる
　　・Webサーバーの場合
　　　　・URLに対応したファイルを返却
　　・アプリサーバーの場合
　　　　・URLに対応したプログラムを呼び出し→結果を返却


 ・Webサーバ専用の特別なコンピュータではありません。
   WebサーバをWebサーバたらしめているのは「Webサーバのソフト」なのです。
   普通のコンピュータにWebサーバのソフトを入れることによって、Webサーバとしてのお仕事ができるコンピュータになります。
   https://wa3.i-3-i.info/word12466.html


・サーバー
https://wa3.i-3-i.info/word144.html


・tomcat
https://wa3.i-3-i.info/word12843.html
https://thinkit.co.jp/free/article/0708/2/1
https://agency-star.co.jp/column/tomcat


・アプリケーションサーバー

https://www.otsuka-shokai.co.jp/words/application-server.html

アプリケーションサーバーにはアプリケーションプログラムによって以下のような種類がある。
（1）Java：「Tomcat」「Glass Fish」
（2）PHP：「Apache」
（3）Ruby：「Unicorn」「Thin」「Rainbows」「Puma」

マイクロソフトのIIS（Internet Information Services）はWebサーバーとアプリケーションサーバーの機能を統合しVisual Basic、C#などの言語で記述したプログラムが作動している。

Appサーバーをwebサーバーとして利用しない理由
https://qiita.com/yCroma/items/e46476e2ac7c372bb2a3

2015年Webサーバアーキテクチャ序論
https://blog.yuuk.io/entry/2015-webserver-architecture



・ブラウザ周りの仕様
https://qiita.com/megmogmog1965/items/e180d02be711cecdc038
