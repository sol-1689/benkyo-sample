


ブラウザ→サーバー→DB





■サイト閲覧時の流れ説明

　　　・ブラウザにURL打つ

　　　・ブラウザがURLに対応するIPを取得

　　　・URLのIPに対して、HTTPリクエストというものを投げる
　　　　HTTPリクエストはブラウザが仕様に乗っ取った形式で作る。
　　　　実際の通信処理はOSに依頼

　　　　※HTTPリクエストとは

　　　　リクエストを受け取る側はHttpサーバーやWebサーバーなどと呼ばれる。

　　　　※そもそもサーバーとは


　　　・サーバー側はリクエスト内容に応じてHTTPレスポンスを返す。
　　　　画面を表示する場合、HTTPレスポンスに乗せてHtmlという形式のファイルを返す。

　　　　リクエストの内容によっては、DBからデータを取得してそれをもとにHTMLを作成する。
　　　　（例えばログインユーザーの会員情報を表示するページなど）

　　　　WebサーバーはDBからSQLという言語を用いてデータを取得・登録する。

　　　　※DBとの接続方法
　　　　※SQLについて

　　　　※HTMLについて

　　　　・HTMLに関連するcss、javascriptのファイルも返す。

　　　　※HTML、css、javascriptの概要説明

　　　・ブラウザは受け取ったHTML、cssを解析し、画面を描画する
　　　　html、css、jsの文法・仕様は仕様を策定する団体によって定義されており、主要なブラウザはその仕様に従っている。
　　　　そのため、異なるブラウザで表示しても同じ画面が表示される。
　　　　（差異がある場合もあるが。。IE11など）

　　　　（重要度低）入力と出力が定義されているだけど、実際の実装はブラウザによリ異なる。
　　　　→ブラウザによってパフォーマンス変わる原因
　　　

　　　※HTML、css、javascriptの例
　　　


　　　
■個別


・サーバーとは？  
　　・役割の事

　　・サーバーアプリの動作イメージ
　　　　・プロセスがポートを見てる
　　　　・ポートに来たリクエストをアプリが感知
　　　　・感知した後の動作はアプリによる

　　　　・Webサーバーの場合
　　　　　　・URLに対応したファイルを返却

　　　　・アプリサーバーの場合
　　　　　　・URLに対応したプログラムを呼び出し→結果を返却

　　・ブレードサーバーなどはサーバー向けの用途に特化したもの
　　　LANケーブルのポート数が多い
　　　メモリやCPUを増やしやすい
　　　文脈によってはハード的な意味にもなる




　　・開発時によく出てくるサーバー
　　　　・Webサーバー
　　　　　
　　　　　静的ファイルを返す
　　　　　SSLの処理なども行う。　
　　　　　Javaなどのプログラムを動かすことは出来ない（プラグイン使えば出来るかもだが機能が貧弱）

　　　　　nginx、Apache HTTP Server、IIS

　　　　・Appサーバー
　　　　　Javaなどを動かせる。
         動的にHTMLページなどを作る際に利用。

　　　　　例）会員情報のページは会員によって表示内容が異なる。
　　　　　　　→会員情報をDBに保持し、アプリから取得、取得した結果をもとにHTMLを作成。

　　　　　特定のルールにのっとってプログラムを記述すると、Httpのリクエストを特定のクラスに通知してくれる。（J2EE？ASP.NET?）
　　　　　※Javaのサーブレットの例とか書く？


　　　　　SSLの処理などの機能は無い


　　　　・WebサーバーとAppサーバーの使い分け
　　　　　→両方使うことが多い

         Tomcat、IIS


　　　　　IISのように、特定の言語(.NET系)に対してはWebサーバーとAppサーバー両方の機能を持つものもある。

   
         ・標準のフレームワークだと上長になりがちなので、記述を楽にするためのライブラリを使うことが多い。

         　例）Spring、ASP .NET MVC
　　　　　
          コード例



　　　　・DBサーバー
　　　　　データベースアプリを稼働させる。　
　　　　　特定のポートをリッスン。

　　　　　アプリケーションから利用する。
　　　　　接続用のライブラリを使う。（コード例）

　　　　　



・ブラウザ ⇔ Httpサーバー仕組み

　　・HTTPリクエスト

　　・HTTPレスポンス

　　・HTML

　　・CSS

　　・Javascript




・Httpサーバー ⇔ DBサーバーの仕組み

   ・DBとのコネクションを貼る
   →各DBベンダーが公開しているライブラリを使用。
   接続文字列を投げればその中でよろしくやってくれる。

　 ・SQLを投げる
　　→これもライブラリで出来る。
　　　もしくは言語としてそういった仕組みが用意されている


　　→ただし、そのまま使うと冗長な記述になりがち

　　→楽に書くためのライブラリを使用（ORマッパーと呼ばれる）

　　→コードのサンプル
   　











